download.packages(tidyverse)
install.packages("tidyverse")
install.packages("readr")
install.packages("psych")
install.packages("visdat", dependencies = FALSE)
install.packages(c("dlookr", "ggpubr"), dependencies = FALSE)
download.packages(patchwork)
install.packages("patchwork", dependencies = FALSE)
library(readr)
library(dplyr)
library(ggplot2)
library(patchwork)
library(psych)
library(visdat)
library(stringr)
df <- read_table("data.csv")
setwd("~/github/OCEAN/ocean analysis")
df <- read_table("data.csv")
t <- df %>%
select(age)
t <- t %>%
if_else(age > 1960 & age < 2012, (-1) + 2012, )
t <- if_else(t$age > 1960 & t$age < 2012, (-1) + 2012, )
t <- if_else(t$age > 1960 & t$age < 2012, (-1) + 2012, t$age)
t <- as_tibble(t)
t %>%
select(age) %>%
filter(age > 999) %>%
count()
View(t)
t %>%
select(value) %>%
filter(value > 999) %>%
count()
t %>%
select(value) %>%
filter(value > 999) %>%
head()
t <- df %>%
select(age)
t <- if_else(t$age > 1960 & t$age < 2012, 2012 - t$age, t$age)
t <- as_tibble(t)
t %>%
select(value) %>%
filter(value > 999) %>%
head()
t %>%
select(value) %>%
filter(value < 100) %>%
count()
t %>%
select(value) %>%
filter(value <= 100) %>%
count()
t %>%
select(value) %>%
filter(value <= 100 & value <= 1000) %>%
count()
t %>%
select(value) %>%
filter(value >= 100 & value <= 1000) %>%
count()
t %>%
select(value) %>%
filter(value > 999)
t %>%
select(value) %>%
filter(value < 999 & value > 99)
t %>%
select(value) %>%
filter(value < 100 & value > 70) %>%
count()
t %>%
select(value) %>%
filter(value < 100 & value > 70) %>%
arrange(desc(value))
t %>%
select(value) %>%
filter(value < 100 & value > 70) %>%
arrange(desc(value)) %>%
head()
t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(value))
t %>%
select(value) %>%
filter(value < 80) %>%
hist(value)
t %>%
select(value) %>%
filter(value < 80) %>%
hist('value')
t %>%
select(value) %>%
filter(value < 80) %>%
hist(x = value)
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(value, ) + geom_bar())
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(x = value) + geom_bar())
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(x = value) + geom_histogram())
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(x = t$value) + geom_histogram())
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(data = t, aes(x = value)) + geom_histogram()
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(data = t, aes(x = value)) + geom_bar()
rlang::last_error()
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(x = value)) + geom_bar()
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean())
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value))
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
as.vector()
t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
mean_t
t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
-> mean_t
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
as.vector(mean_t)
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
as.vector(x = mean_t)
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean(t$value)) %>%
as.vector()
View(mean_t)
View(mean_t)
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean()) %>%
as.vector()
library(readr)
library(dplyr)
library(ggplot2)
library(patchwork)
library(psych)
library(visdat)
library(stringr)
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
summarise(mean()) %>%
as.vector()
mean_t <- t %>%
select(value) %>%
filter(value < 80) %>%
mean() %>%
pull()
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(mean(value)) %>%
pull(mean_t) %>%
as.vector(mean_t)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(mean(value)) %>%
pull(mean_t)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = mean(value)) %>%
pull(mean_t)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = mean(value)) %>%
pull(mean_t$m)
mean_t <- na
mean_t <- 0
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = mean(value))
mean_t <- pull(mean_t$m)
mean_t <- pull(mean_t, 1)
mean_t <- pull(mean_t, round(m, 2))
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = round(mean(value), 2))
mean_t <- pull(mean_t, m)
t <- if_else(t$value > 80, mean_t, t$value)
as_tibble(t)
t <- as_tibble(t)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = round(mean(value), 0))
mean_t <- pull(mean_t, m)
t <- if_else(t$value > 80, mean_t, t$value)
t <- as_tibble(t)
t %>%
select(value) %>%
filter(value > 99)
t %>%
select(value) %>%
filter(value < 80) %>%
ggplot(aes(x = value)) + geom_bar()
t %>%
filter(value > 23 & value < 30) %>%
select(unique(value))
t %>%
filter(value > 23 & value < 30) %>%
select(unique(t$value))
describe(t$value)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = round(mean(value), 0)) %>%
mean_t <- pull(mean_t, m)
mean_t <- t %>%
filter(value < 80) %>%
select(value) %>%
summarise(m = round(mean(value), 0)) %>%
pull(mean_t, m)
d <-  df$age %>%
select(age) %>%
summarise(age = if_else(df$age > 1960 & df$age < 2012, 2012 - df$age, df$age)) %>%
summarise(age = if_else(df$age > 80, mean(df$age < 80), df$age))
d <-  df$age %>%
summarise(age = if_else(df$age > 1960 & df$age < 2012, 2012 - df$age, df$age)) %>%
summarise(age = if_else(df$age > 80, mean(df$age < 80), df$age))
mean(df$age < 80)
d <-  df$age %>%
summarise(age = if_else(df$age > 1960 & df$age < 2012, 2012 - df$age, df$age))
library(readr)
library(dplyr)
library(ggplot2)
library(patchwork)
library(psych)
library(visdat)
library(stringr)
d <-  df$age %>%
summarise(age = if_else(df$age > 1960 & df$age < 2012, 2012 - df$age, df$age))
df$age <- if_else(df$age > 1960 & df$age < 2012, 2012 - df$age, df$age)
df %>%
select(age) %>%
filter(age > 80)
df %>%
select(age) %>%
filter(age > 80) %>%
summarise(m = mean(age))
df %>%
select(age) %>%
filter(age < 80) %>%
summarise(m = mean(age))
df$age <- if_else(df$age > 80, 26, df$age)
df %>%
select(age) %>%
filter(age > 80)
describe(df$age)
df %>%
select(age) %>%
filter(age == 12)
df %>%
select(age, race, gender) %>%
filter(age == 12)
describe(df$race)
View(df)
describe(df$engnat)
str(df$engnat)
unique(df$engnat)
unique(df$race)
li <- sapply(df, unique)
View(li)
under_limits <- sapply(df, unique)
View(under_limits)
df %>%
filter(df == 0) %>%
count()
df %>%
select(1:57)
filter(1:57 == 0) %>%
count()
df %>%
select(1:57) %>%
filter(!rowSums(df == 0)) %>%
count()
df %>%
select(1:57) %>%
filter(rowSums(df == 0)) %>%
count()
df %>%
select(1:57) %>%
filter(!rowSums(. == 0)) %>%
count()
df %>%
select(1:57) %>%
filter_at(vars(1:57), all_vars(. ==0))
count()
library(tidyverse)
df %>%
gather(df, 0, ) %>%
tally(0)
df %>%
gather(df, value, ) %>%
tally(value == 0)
df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0)
df %>%
select(A1) %>%
filter(A1 == 0) %>%
count()
df_missed <- df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0)
View(df_missed)
df_missed <- df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0) %>%
ggplot(aes(x = df, y = n)) + geom_bar()
View(df_missed)
df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0) %>%
ggplot(aes(x = df, y = n)) + geom_bar()
df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0) %>%
ggplot(aes(x = df, y = n)) + geom_col()
df_missed <- df %>%
gather(df, value, ) %>%
group_by(df) %>%
tally(value == 0)
View(df_missed)
df %>%
select(8:9) %>%
filter(E1 == 0 & E2 == 0)
df %>%
select(1, 2, 8:9) %>%
filter(E1 == 0)
df %>%
select(1, 2, 8:57) %>%
filter(E1 == 0)
